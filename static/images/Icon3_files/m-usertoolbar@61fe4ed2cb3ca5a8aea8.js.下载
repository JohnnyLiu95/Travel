(function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:false};e[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}var t={};n.m=e;n.c=t;n.p="//q.qunarzz.com/usertoolbar/prd/";return n(0)})([function(e,t,n){e.exports=n(7)},,,,,,function(e,t){function a(e){var t;var n=f(function(e){if(typeof window.postMessage!=="undefined"){parent.postMessage(e,"*",t?[t.port2]:undefined)}else{var n=navigator.crossDomainPost;if(typeof n==="function"){n(e,p(location.href))}}});if(!u){if(typeof window.postMessage!=="undefined"){c(function(e){var t=e.data;if(e.origin&&!/[\.\/]qunar\.com$/.test(e.origin)){return}if(i){try{t=JSON.parse(t)}catch(r){t=null}}if(!t||t.constructor!==Array)return;if(t&&typeof t[0]==="string"){var s=e.ports&&e.ports[0];if(s&&t[1]&&t[1].push){t[1].push(s)}l(t,n)}})}else{navigator[e?"crossDomainPost":location.href]=function(e){l(e,n)}}u=true}if(e){o.on(e,function(t){var n=r[p(e)];if(n){var i;if(t){t.onmessage=function(e){l(e.data)};i=function(e){t.postMessage(e)}}else if(typeof window.postMessage!=="undefined"){i=function(e){n.iframe.contentWindow.postMessage(e,"*")}}else{i=function(t){var n=navigator[e];if(typeof n==="function"){n(t)}}}n.fake(f(i))}})}else{if(typeof window.postMessage!=="undefined"){if(typeof window.MessageChannel!=="undefined"){t=new MessageChannel;t.port1.onmessage=function(e){l(e.data,f(function(e){t.port1.postMessage(e)}))}}}n(location.href)}}function f(e){return function(t){var n=Array.prototype.slice.call(arguments,1),r,s=n[n.length-1];if(typeof s==="function"){n.splice(-1,1);r=v()}else{s=undefined}var u=[t,n,r];if(i){u=JSON.stringify(u)}e(u);if(r){o.on(r,s)}}}function l(e,t){var n=e[0],r=e[1],i=e[2];if(i){r.push(function(){t.apply(null,[i].concat(Array.prototype.slice.call(arguments,0)))})}o.emit.apply(o,[n].concat(r))}function c(e){if(typeof window.addEventListener!=="undefined"){window.addEventListener("message",e,false)}else if(typeof window.attachEvent!=="undefined"){window.attachEvent("onmessage",e)}}function p(e){var t=h.exec(e);return t!==null?t[1]:t}function v(){d++;return"callback"+d}function m(){var e,t=[],n=function(n){if(typeof n!=="function")return;e=n;for(var r;r=t.shift();){n.call.apply(n,r)}};n.func=function(){var n=Array.prototype.slice.call(arguments,0);if(e){e.apply(this,n)}else{t.push([this].concat(n))}};return n}var n=typeof n==="function"&&!n.amd?n:false;var r={};var i=navigator.appVersion.match(/MSIE [89]/);e.exports=t=function(e,n,i){var s=p(e);if(s){var o=r[s];if(o==null){o=t.addProxy(s+"/crossDomainPostProxy.html")}o.func("post",e,n,i)}else{$.post(e,n,i)}};var s={},o={on:function(e,t){var n=s[e];if(n==null){n=s[e]=[t]}else{n.push(t)}},emit:function(e){var t=Array.prototype.slice.call(arguments,1);var n=s[e];if(n&&n[0]){for(var r=n.length-1;r>=0;r--){n[r].apply(null,t)}}}};t.addProxy=function(e){a(e);var t=m();var n=r[p(e)]={fake:t,func:t.func};$(function(){n.iframe=$('<iframe src="'+e+'" style="display:none" />').prependTo("body")[0]});return n};var u;t.proxy=function(){o.on("post",function(e,t,n){$.ajax({type:"post",url:e,data:t,success:function(e){n(e)}})});a()};var h=/^([^:]+:\/\/[^\/]+)\//;var d=0},function(e,t,n){(function(e,t){function v(e,t){var n=e.length,r=function(){n--;if(n===0){t.call(self)}};for(var i=0;i<e.length;i++){e[i].call(this,r)}}function m(){var e=[],t=$(arguments).map(function(t){var n=this;return function(r){var i=function(n){e[t]=n;r()};if(typeof n==="function"){n.call(this,i)}else if(n instanceof String){I.call(this,n+"",i)}}}).get();return function(n){v.call(this,t,function(){n(e)})}}function g(e){v([b(f+"//user.qunar.com/webApi/popup.jsp?display"+(a?"=ssl":"")+"&ver=v1.0"),w(f+"//user.qunar.com/webApi/popup.jsp?js"+(a?"=ssl":"")+"&ver=v1.0")],function(){e()})}function y(n,r){if(r===void 0){r=n;n=function(e,t){return typeof t==="number"?t:100}}var i,s,o;if(typeof window.setImmediate==="function"){s=e;o=t}else if(typeof window.requestAnimationFrame==="function"){s=requestAnimationFrame;o=cancelAnimationFrame}else{s=function(e,t){return setTimeout(e,n.apply(null,t))};o=clearTimeout}return function(){o(i);i=s(r,o===clearTimeout?$(arguments).get():void 0)}}function b(e){return function(t){$('<link rel="stylesheet" href="'+e+'"/>').load(function(){if(t)t();t=null}).appendTo("head")}}function w(e){return function(t){$.getScript(e,t)}}function E(e,t){if(t===void 0){try{return window.localStorage[e]}catch(n){return s.get(e)}}else{try{window.localStorage.setItem(e,t)}catch(n){s.set(e,t,{path:"/",domain:".qunar.com",hours:4*7*24})}}}function S(e){var t=parseInt(e,10);if(isNaN(t)||t<0){return""}return(""+t).replace(/^(\d+)(\d{4})$/,function(e,t,n){return t+"."+n.slice(0,2)})}function x(e,t){$(".js-content, .placeholder-row",e).remove();if(t.charAt(0)==="<"&&t.charAt(t.length-1)===">"&&t.length>=3){t="<div>"+t+"</div>"}$(t).addClass("js-content").appendTo(e);L(e);N(e);return e}function T(e,t){if(!msie6789&&typeof t==="undefined"){t=true}if(e.data("full-height")!=null){return}var n=$(".btn-item.active",h);if(n[0]){var r=$(window).scrollTop();e.css("top",n.offset().top-r-1-(c.offset().top-r));if(t){setTimeout(function(){T(e,false)},500)}}}function N(e){var t=$(".scrollbars-box",e).off("mousewheel.usertoolbar").removeClass("webkit-scrollbar-fix").css({height:"",display:""}),n=t.height(),r=t.hide().parent().height();if(!e.is(":visible")){var i=arguments.callee;e.one("panelshowed",function(){i(e)});return}if(n>r){var s=$(".list-foot",e),r=t.hide().parent().height();if(!s.is(":visible")){s.css("display",O("table-row"));$(".list-foot-btns",t).appendTo($(".panel-cell",s));r-=$(".list-foot .panel-cell",e).each(function(){if(msie67){$(this).css("padding-top","10px")}}).parent().outerHeight()}if(msie67){t.parents(":lt(2)").height(r)}t.height(r);if(~navigator.userAgent.indexOf("WebKit")){t.addClass("webkit-scrollbar-fix")}else{t.addClass("normal-scrollbar-fix")}t.on("mousewheel.usertoolbar",function(e){var n=t[0].scrollTop,i=t[0].scrollHeight;if(e.deltaY<0&&n+r>=i||e.deltaY>0&&n<=0){e.preventDefault()}})}else{t.removeClass("webkit-scrollbar-fix normal-scrollbar-fix").closest(".panel-item").find(".list-foot").css("display","").end().find(".list-foot-btns").appendTo(t)}t.css("display","")}function C(){var e=$(this).css({display:"none",height:""});var t=e.parent().height(),n=0;if(t===0){c.show();C.call(this);return}e.siblings(":visible").each(function(){n+=$(this).outerHeight(true)});n=t-n;if(e.closest(".messages")[0]){n-=20}e.css("display","block");if(n>0){e.height(n);var r=e.children();if(r.length===1&&r.is(".panel-cell")){r.height(n)}}}function k(){if(msie67){h.on("mouseenter mouseleave",".btn-item",function(e){var t=e.type==="mouseenter"?"addClass":"removeClass";var n=$(this),r=n.data("id");r=r?" "+r+"-hover":"";n[t]("btn-item-hover"+r).find(".icon")[t]("icon-hover");$(".hover-tip",this).css("zoom","").css("zoom",1)});$(".login",p).on("click",function(){$(".QR2PC_btn",this).css("zoom",function(e,t){return t!=="normal"?"normal":1})});$(".qrcode .hover-tip",h).click(function(e){$(this).closest("a")[0].click()});if(msie6){c.css("position","absolute");$(window).scroll(y(function(){c.css("top",$(window).scrollTop())}))}$(window).bind("ie67fixresize",function(){var e=$(window).height();c.height(e<minHeight?minHeight:e);$(".btn-group:not(.head, .foot)",h).each(C);$(".middle",h).each(function(){var e=$(this);e.parent().css("position","relative");e.css({position:"absolute",top:(e.parent().height()-e.height())/2,width:"100%"})})}).resize(y(function(){$(this).triggerHandler("ie67fixresize")}))}}function L(e){if(msie67){if(!e.is(":visible")){var t=arguments.callee;e.one("panelshowed",function(){t(e)});return}$(".tips",e).css("height","auto");$(".panel-row",e).css("display",function(e,t){return t}).filter(".list-body").each(C).find(".scrollbars-box").css("position","relative").find(".red-envelope, .trip-card").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}).end().find(".ellipsis .title").css("width",function(){$(this).css("width",1);return 162-$(this).outerWidth(true)+"px"})}}function A(e,t){if(msie67){t.css({width:e.innerWidth(),height:e.innerHeight(),"z-index":10,zoom:1,bottom:""})}}function O(e){if(msie67){var t={table:"block","table-row":"block"}[e];if(t){e=t}}return e}function _(e,t){var n=$(e,p);var r=n.data("require-login")?P:function(e,t){t()};return function(){var i=this;if($(i).hasClass("active")){$(i).data("no bc",true);if(n.data("keep-open")){B(n,false,i)}return}r(i,function(){var n=arguments.callee,r=B(e,void 0,i);if(r){t(i,r,n)}})}}function D(e,t,n,r){if(typeof n==="function"){r=n;n={}}return _(e,function(e,i,s){I.call({error:function(t){if(t.unlogin){P(e,"force",s)}}},t,n,i,function(e){e=[i,e];if(typeof t==="function"){e=e.concat($(arguments).slice(1).get())}r.apply(null,e)})})}function P(e,t,n){if(typeof t==="function"){n=t;t=void 0}if(!t&&s.get("_q")){n()}else{$("#q-pop-box-wrap").html('<div id="QunarPopBox"></div>');H(e,function(){$(".register",h).remove();n()})}}function H(e,t,n){if(typeof t==="function"){n=t;t=void 0}if(t!=="reg"){var r=B(".login",true,e)}new $.LoginPop({type:t,display:t!=="reg"?"inner":false,proxy:loginPopProxyMap[location.host]||"/proxy.htm",callback:{success:function(){try{QNR.QUstatus.render()}catch(e){}$(".messages",h).triggerHandler("polling",[2]);if(typeof n==="function"){if(!(msie67&&!msie6)){u("登录弹窗 登录成功");n()}else{var t=s.get("_i");var r=s.get("QunarGlobal");if(r!=null||t!=null){var i=new Image;i.src="//user.qunar.com/passport/addICK.jsp";n()}else{var i=new Image;i.src="//user.qunar.com/passport/addICK.jsp";i.onreadystatechange=function(){if(this.readyState=="complete")n()}}}}}}});p.queue(function(){var e=this;$("input:visible",r).filter(":text, :password").eq(0).each(function(){this.focus();this.select()});$(e).dequeue();u("登录弹窗 打开")})}function B(e,t,n){var r=$(e,p),i=150,s="click.usertoolbar-togglePanel";$(document).unbind(s);$(".btn-item",h).removeClass("active").each(function(){var e=$(this).data("id");if(e){$(this).removeClass(e+"-active")}}).find(".icon").removeClass("icon-active");$(".hover-tip",n).css("display","");if(t===false||t===undefined&&r.is(":visible")){var o=r;r=undefined;var u={};u[d]="-185px";p.css("z-index",-1).stop(true,true).animate(u,i,function(){o.css("display","");p.hide()})}else{var a=r.data("full-height")!=null;var f=r.siblings(".panel-item:visible");$(n).addClass("active").each(function(){var e=$(this).data("id");if(e){$(this).addClass(e+"-active")}}).find(".icon").addClass("icon-active");$(".hover-tip",n).hide();p.stop(true,true);if(f[0]){var u={};u[d]="-185px";p.css("z-index",-1).animate(u,i,function(){f.hide();$(this).dequeue()})}else{var u={"z-index":-1,display:"block"};u[d]="-185px";p.css(u)}var u={opacity:1};u[d]=$(h).width();p.queue(function(){r.css("display",O("table")).each(function(){if(!a&&n){var e=$(window).scrollTop();var t={position:"absolute",top:$(n).offset().top-e-1-(c.offset().top-e)};t[d]=0-atSideOffset;r.css(t)}});$(this).css("opacity",0).toggleClass("full-height",a);y(function(){r.trigger("panelshowed")})(null,0);$(this).dequeue()}).animate(u,i,function(){var e={opacity:"","z-index":""};e[d]="";$(this).css(e)});if(!r.data("keep-open")){setTimeout(function(){$(document).bind(s,function(e){if($.contains(p[0],e.target)){return}B(r,false)})},0)}}return r}function F(e,t,n){if(!F.initProxy){o.addProxy(f+"//user.qunar.com/proxy/crossDomainPostProxy");F.initProxy=true}var e=f+"//user.qunar.com/webapi"+e;t.source="ucenter";o(e,t,n)}function I(e,t,n,r){var i=this,o=false,u;if(t instanceof $||t==null||typeof t==="function"){r=n;n=t;t={}}if(typeof n==="function"){r=n;n=undefined}if(n&&(n.data("ajaxing")||n.data("cached"))){$(".loading",n).show();return}var a=function(){if(n){$(".loading",n).each(function(){A(n,$(this))}).show();$(".error",n).hide();n.data("ajaxing",true)}},f=function(e){if(n){$(".loading",n).hide();if(e){$(".error",n).css("display","").find(".msg").text(e+"")}n.data("ajaxing",false)}if(e&&typeof i.error==="function"){i.error(e)}},l=function(e){var t;if(e.errcode===22032||e.data&&e.data.timeOut){t={unlogin:1,toString:function(){return"尚未登录，请重新登录！"}}}else if(e.ret){return e.data}else{t=e.errmsg}throw t};if(typeof e==="function"){a();e.call({error:function(e){clearTimeout(u);if(typeof f==="function"){f(e);f=null}}},function(e){if(o){return}clearTimeout(u);if(typeof r==="function"){r.apply(null,e)}if(typeof f==="function"){f()}})}else{t.csrfToken=s.get("csrfToken");var c=j[e];var h=function(e){if(o){return}clearTimeout(u);var t;try{e=l(e)}catch(n){t=n}finally{if(t===void 0&&typeof r==="function"){r(e)}f(t)}};if(typeof c==="string"){t.isTimeOut=true;$.ajax({url:env()!=="debug"&&j[e]||"//usertoolbarbeta.qunar.com"+e,data:t,dataType:"jsonp",beforeSend:a,success:h})}else if(typeof c==="function"){a();c(e,t,h)}}u=setTimeout(function(){if(typeof f==="function"){f({timeout:1,toString:function(){return"请求超时, 请待会重试！"}})}o=true},4e4)}var r=typeof r==="function"&&!r.amd?r:false;n(11)(jQuery);var i=n(12),s=i.cookie;var o=n(6);var u=n(13)(1706);var a=location.protocol==="https:"?true:false;var f=a?"https:":"http:";var l={};l.usertoolbar=n(14);l.messages=n(15);l.orders=n(16);l.account=n(17);l.user=n(18);var c,h,p,d="left";atSideOffset=0,loaded=false,$=jQuery,env=function(){return E("env")},minHeight=480,loginPopProxyMap={"flight.qunar.com":"/site/proxy_new.htm"},msie6=~navigator.appVersion.indexOf("MSIE 6"),msie67=msie6||~navigator.appVersion.indexOf("MSIE 7"),msie678=msie67||~navigator.appVersion.indexOf("MSIE 8"),msie6789=msie678||~navigator.appVersion.indexOf("MSIE 9");v([function(e){$(e)},b(f+"//q.qunarzz.com/usertoolbar/prd/v1.0.0/css/m-usertoolbar@f770297d51d157b67ef2.css"),g],function(){function r(e){clearTimeout(r.timer);e=e||(n.length===1?n[0]:n.shift());r.timer=setTimeout(function(){I("/message/unreadCount",function(e){var t=e.system.total>0;$(".messages .dot",h).toggle(t);if(t&&!$(".messages .unread li",p)[0]){$(".messages .tips .tip",p).addClass("refresh-panel").html("您还有新的未读消息，点击查看")}r()})},e*1e3)}function a(e){I.call(this,"/unbind",function(t){if(t&&t.status==22032){return}var n=0;t=$.map(t,function(e){var t=o[e.businessType];if(t===void 0)return[];e.name=t;n+=e.count;return e});$(".orders",h).toggleClass("has",n>0);if(typeof e==="function"){e({count:n,data:t})}})}$("body").append(l.usertoolbar({}));c=$(".js-usertoolbar");h=$(".js-usertoolbar-btn",c);p=$(".js-usertoolbar-panel",c);u.send("o");var e=$(".unfold",c).click(function(){var e={};e[d]=-$(this).width()-atSideOffset;$(this).animate(e,"fast");e={};e[d]=0;$(".fold-contain",c).animate(e,"fast",function(){if(msie67){$(window).triggerHandler("ie67fixresize",0)}});u("展开了工具栏")});var t=$(".fold",c).click(function(){var t={};t[d]=-h.width()-p.width();$(".fold-contain",c).animate(t,"fast");t={};t[d]=-7;e.animate(t,"fast");$(".panel-fold-btn",p).triggerHandler("click")});k();$(window).resize(y(function(){var n=$(window).width(),r=$(window).height();if((n<1300||r<minHeight)&&parseInt(e.css(d))<0){t.triggerHandler("click","no bc")}if(msie678){c.css("display","");if(n>1080){c.show()}}$(".panel-item:visible",p).each(function(){var e=$(this);L(e);N(e);T(e)})})).triggerHandler("resize",0);$(".panel-fold-btn",p).click(function(){B(".panel-item:visible",false)});a.call({error:function(){$(".register",h).attr("href",function(e,t){return t+encodeURIComponent(location.href)}).click(function(e){e.stopPropagation()})}},function(){$(".register",h).remove();r(2)});$(".user",h).click(D(".user","/basic",function(e,t){x(e,l.user(t));u("打开了面板 用户")}));var n=[15,15,15,15,30,30,30,30,60,60,120];$(".messages",h).on("polling",function(e,t){r(t)});var s={1:"【系统消息】",2:"【提醒通知】",3:"【订单状态消息】",4:"【在线服务状态消息】",5:"【帐号安全提醒】",6:"【推荐消息】",7:"【社区消息】",9:"【退款状态消息】",10:"【活动消息】"};$(".messages",h).click(D(".messages",m(function(e){I.call(this,"/message/query",{length:5,messageStatus:"received"},e)},function(e){I.call(this,"/message/query",{length:3,messageStatus:"read"},e)}),function(e,t,n){t=t.message;n=n.message;var r=$(t.concat(n)).map(function(e,t){t.title=(s[t.messageType]||"")+t.content.replace(/\{\{[^}]+\}\}/g,"");t.date=t.createdTime.replace(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/,"$1年$2月$3日 $4:$5").replace((new Date).getFullYear()+"年","");try{t.operater=t.resources.operateUrl[0]}catch(n){}return t.messageId}).get();var i={has:t.length+n.length,unread:t,read:n};I("/message/received",{messageIds:r.join(",")});$(".messages .dot",h).toggle(t.length>0);x(e,l.messages(i)).on("click",".btn-view-all",function(){u("点击了 消息 - 查看全部")});e.triggerHandler("refreshstatus");u("打开了面板 消息")}));$(".messages",p).on("markreaded",function(e,t){var n=$(this);if(t){var r=$(".read",n);t.fadeOut(function(){t.prependTo(r).fadeIn(function(){if(msie67){r.hide().css("display","")}});$(".empty",r).remove();n.triggerHandler("refreshstatus")})}else{n.triggerHandler("refreshstatus")}}).on("refreshstatus",function(){var e=$(this);var t=$(".unread",e);var n=t.children().length;var i;if(n<=0){t.remove();$(".btn-markreaded",e).css("visibility","hidden");$(".messages .dot",h).hide();r(2);i="您暂无新的未读消息"}else{i="您有新的未读消息"}$(".tips .tip",e).html(i)}).on("dblclick",".unread li",function(e,t){var n=$(this);var r=n.closest(".panel-item");if(!t){u("点击了 消息 - 未读消息标为已读")}I("/message/read",{messageIds:n.data("id")},function(){r.triggerHandler("markreaded",[n])})}).on("click",".refresh-panel",function(){var e=$(".messages",h).trigger("click","no bc");p.queue(function(){e.trigger("click");$(this).dequeue()})}).on("click",".unread .detail",function(){u("点击了 消息 - 未读消息查看详情");$(this).closest("li").trigger("dblclick","no bc")}).on("click",".btn-markreaded",function(){var e=$(this).closest(".panel-item");var t=$(".unread li",e);if(t[0]){u("点击了 消息 - 全部标记为已读");I("/message/read",{messageIds:t.map(function(){return $(this).data("id")}).get().join(",")},function(){e.triggerHandler("markreaded",[t])})}});var o={pay:"存款证明",hotel:"酒店",flight:"机票",group:"团购",travel:"度假",train:"火车票",ticket:"门票",car:"接送机",apartment:"公寓",tese:"当地特色",local:"当地人",bus:"汽车票",insure:"保险"};$(".orders",h).click(D(".orders",m(a,"/order",function(e){$(".orders .unbinds-tips",h).hide();e()}),function(e,t,n){n.unbinds=t;$(n.data).each(function(){this.businessName=o[this.businessType]||"";this.strPrice=S(this.price);this.typeName=o[this.businessType];this.titleMarginLeft=this.typeName?this.typeName.length+1:0;if(this.businessType!=="hotel"){this.strCreateTime=i.dateFormat(new Date(this.createTime),"yyyy-MM-dd hh:mm")}if(this.businessType==="group"){if(this.count>1){this.titleTip="共"+this.count+"单"}}else if(~",flight,train,bus,".indexOf(","+this.businessType)){var e=$.map(this.segmentses,function(e){return e.departure+"-"+e.arrival+(e.no?" "+e.no:"")});if(e[0]){var t=this.segmentses[0].no;this.strSegmentses='<span class="segment">'+e.join("</span>"+(t?"<br/>":" | ")+'<span class="segment">')+"</span>";this.productTitle=e.join(t?"&#13;&#10;":" | ")}}if(this.currency==="CNY"){delete this.currency}if(this.statusDesc==="查看详情"){this.statusDescBlue=true}});x(e,l.orders(n)).find(".unbinds-tips").each(function(){var e=$(this),t=$(".unbinds-list",e);var n=$(".unbinds-list-close",t).click(function(){t.hide();E("unbinds-tips",+(new Date)/i|0)});var r=$(".unbinds-tips-text",e).hover(function(){if(r.hasClass("unbinds-tips-disabled")){return}t.show();var i="click.unbinds";$(document).unbind(i);setTimeout(function(){$(document).bind(i,function(t){if(e[0]===t.target||$.contains(e[0],t.target)){return}n.triggerHandler("click");$(document).unbind(i)})},0)});$("a",t).click(function(){u("点击了 我的订单 - 未绑定订单");u("点击了 我的订单 - "+$(this).data("name")+"的未绑定订单")});var i=60*60*1e3;if((+(new Date)/i|0)-(parseInt(E("unbinds-tips"),10)||0)>=12){r.trigger("mouseenter")}}).end().find(".list-body .order-item").click(function(e){if($(this).hasClass("disabled")){return}u("点击了 我的订单 - 订单条目")}).end().on("click",".btn-view-all",function(){u("点击了 我的订单 - 查看全部")});u("打开了面板 我的订单")}));$(".account",h).click(D(".account","/account",function(e,t){t.amountBalance=(""+(t.amountBalance||"0.00")).replace(/(\d+)\./,'<span class="int">$1</span>.');M(t.couponList);x(e,l.account(t)).find(".charge").click(function(){u("点击了 我的账户 - 充值")}).end().find(".detail").click(function(){u("点击了 "+this.nextSibling.nodeValue+" - 查看更多")}).end().on("click",".btn-view-all",function(){u("点击了 我的账户 - 查看全部")});u("打开了面板 我的账户")}));$(window).scroll(y(function(){var e=$(".gotop",h);if($(window).scrollTop()>$(window).height()*.87){if(e.css("visibility")==="hidden"){e.css({visibility:"",display:"none"}).fadeIn("fast")}}else{e.fadeOut("fast",function(){$(this).css({visibility:"hidden",display:""})})}})).triggerHandler("scroll",0);$(".btn-item",h).click(function(e,t){if(t==="no bc"||$(this).data("no bc")){$(this).data("no bc",false);return}u("点击了 用户工具栏 - "+(this.title||$.trim($(this).text())))});$(".login .login_close",p).click(function(){B($(".login",p),false)});$(document).trigger("usertoolbarready",[{add:function(e){if(arguments.length>1){e=$(arguments).get()}if(e instanceof Array){var t=arguments.callee;return $(e).map(function(e,n){return t(n)[0]})}e=$.extend({id:"",name:"",panelName:"",full:false,keepOpen:false,requireLogin:false,onOpen:function(){}},e);$(".middle",h).append('<div class="btn-item '+e.id+'">	                <span class="icon"></span><br/>	                '+e.name+"	            </div>");p.append('<div class="panel-item '+e.id+'"'+(e.full?'data-full-height="yes"':"")+(e.keepOpen?'data-keep-open="yes"':"")+(e.requireLogin?'data-require-login="yes"':"")+">	                "+(e.panelName?'	                    <div class="panel-row panel-head">	                        <div class="panel-cell">	                            <h3>	                                <span class="icon"></span>'+e.panelName+'	                                <div class="loading"></div>	                            </h3>	                        </div>	                    </div>	                    ':'	                    <div class="loading"></div>	                    ')+"	            </div>");return $("."+e.id,h).data("id",e.id).click(_("."+e.id,function(t,n){n.one("panelshowed",function(){if(typeof e.onOpen==="function"){e.onOpen.call(t[0],n)}})}))},fillPanel:x,requireLogin:function(e,t){P(e,"force",t)},rightSide:function(){c.addClass("m-usertoolbar-right-side");d="right";atSideOffset=msie6?1:0},loginPopProxy:function(e){loginPopProxyMap[location.host]=e}}])});var M=function(e){var t={flight:"FLIGHTTTS",hotel:"HotelQTA,otappb",vacation:"VACATIONBC"};var n={};for(var r in t){var i=t[r].split(",");for(var s=0;s<i.length;s++){n[i[s]]=r}}return function(e){if(e instanceof Array){for(var t=0;t<e.length;t++){e[t].initiator=n[e[t].initiator]||e[t].initiator}}}}();var j={"/basic":f+"//user.qunar.com/index/basic","/unbind":f+"//user.qunar.com/index/order/unbind","/order":f+"//user.qunar.com/index/order?count=5","/account":f+"//user.qunar.com/index/account/tool","/message/query":F,"/message/received":F,"/message/unreadCount":F,"/message/read":F}}).call(t,n(8).setImmediate,n(8).clearImmediate)},function(e,t,n){(function(e){function o(e,t){this._id=e;this._clearFn=t}var r=typeof r==="function"&&!r.amd?r:false;var i=typeof e!=="undefined"&&e||typeof self!=="undefined"&&self||window;var s=Function.prototype.apply;t.setTimeout=function(){return new o(s.call(setTimeout,i,arguments),clearTimeout)};t.setInterval=function(){return new o(s.call(setInterval,i,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};o.prototype.unref=o.prototype.ref=function(){};o.prototype.close=function(){this._clearFn.call(i,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function(){if(e._onTimeout)e._onTimeout()},t)}};n(9);t.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof e!=="undefined"&&e.setImmediate||this&&this.setImmediate;t.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof e!=="undefined"&&e.clearImmediate||this&&this.clearImmediate}).call(t,function(){return this}())},function(e,t,n){(function(e,t){var n=typeof n==="function"&&!n.amd?n:false;(function(e,n){"use strict";function a(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var n=0;n<t.length;n++){t[n]=arguments[n+1]}var s={callback:e,args:t};i[r]=s;u(r);return r++}function f(e){delete i[e]}function l(e){var t=e.callback;var r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r);break}}function c(e){if(s){setTimeout(c,0,e)}else{var t=i[e];if(t){s=true;try{l(t)}finally{f(e);s=false}}}}function h(){u=function(e){t.nextTick(function(){c(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=true;var n=e.onmessage;e.onmessage=function(){t=false};e.postMessage("","*");e.onmessage=n;return t}}function d(){var t="setImmediate$"+Math.random()+"$";var n=function(n){if(n.source===e&&typeof n.data==="string"&&n.data.indexOf(t)===0){c(+n.data.slice(t.length))}};if(e.addEventListener){e.addEventListener("message",n,false)}else{e.attachEvent("onmessage",n)}u=function(n){e.postMessage(t+n,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;c(t)};u=function(t){e.port2.postMessage(t)}}function m(){var e=o.documentElement;u=function(t){var n=o.createElement("script");n.onreadystatechange=function(){c(t);n.onreadystatechange=null;e.removeChild(n);n=null};e.appendChild(n)}}function g(){u=function(e){setTimeout(c,0,e)}}if(e.setImmediate){return}var r=1;var i={};var s=false;var o=e.document;var u;var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e;if({}.toString.call(e.process)==="[object process]"){h()}else if(p()){d()}else if(e.MessageChannel){v()}else if(o&&"onreadystatechange"in o.createElement("script")){m()}else{g()}y.setImmediate=a;y.clearImmediate=f})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(t,function(){return this}(),n(10))},function(e,t){function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout){return setTimeout(e,0)}if((i===o||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function f(e){if(s===clearTimeout){return clearTimeout(e)}if((s===u||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}function d(){if(!c||!h){return}c=false;if(h.length){l=h.concat(l)}else{p=-1}if(l.length){v()}}function v(){if(c){return}var e=a(d);c=true;var t=l.length;while(t){h=l;l=[];while(++p<t){if(h){h[p].run()}}p=-1;t=l.length}h=null;c=false;f(e)}function m(e,t){this.fun=e;this.array=t}function g(){}var n=typeof n==="function"&&!n.amd?n:false;var r=e.exports={};var i;var s;(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=o}}catch(e){i=o}try{if(typeof clearTimeout==="function"){s=clearTimeout}else{s=u}}catch(e){s=u}})();var l=[];var c=false;var h;var p=-1;r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}l.push(new m(e,t));if(l.length===1&&!c){a(v)}};m.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};r.on=g;r.addListener=g;r.once=g;r.off=g;r.removeListener=g;r.removeAllListeners=g;r.emit=g;r.prependListener=g;r.prependOnceListener=g;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t,n){var r=typeof r==="function"&&!r.amd?r:false;(function(t){if(true){e.exports=t}else{t(jQuery)}})(function(e){function a(t){var n=t||window.event,o=r.call(arguments,1),a=0,c=0,h=0,p=0,d=0,v=0;t=e.event.fix(n);t.type="mousewheel";if("detail"in n){h=n.detail*-1}if("wheelDelta"in n){h=n.wheelDelta}if("wheelDeltaY"in n){h=n.wheelDeltaY}if("wheelDeltaX"in n){c=n.wheelDeltaX*-1}if("axis"in n&&n.axis===n.HORIZONTAL_AXIS){c=h*-1;h=0}a=h===0?c:h;if("deltaY"in n){h=n.deltaY*-1;a=h}if("deltaX"in n){c=n.deltaX;if(h===0){a=c*-1}}if(h===0&&c===0){return}if(n.deltaMode===1){var m=e.data(this,"mousewheel-line-height");a*=m;h*=m;c*=m}else if(n.deltaMode===2){var g=e.data(this,"mousewheel-page-height");a*=g;h*=g;c*=g}p=Math.max(Math.abs(h),Math.abs(c));if(!s||p<s){s=p;if(l(n,p)){s/=40}}if(l(n,p)){a/=40;c/=40;h/=40}a=Math[a>=1?"floor":"ceil"](a/s);c=Math[c>=1?"floor":"ceil"](c/s);h=Math[h>=1?"floor":"ceil"](h/s);if(u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();d=t.clientX-y.left;v=t.clientY-y.top}t.deltaX=c;t.deltaY=h;t.deltaFactor=s;t.offsetX=d;t.offsetY=v;t.deltaMode=0;o.unshift(t,a,c,h);if(i){clearTimeout(i)}i=setTimeout(f,200);return(e.event.dispatch||e.event.handle).apply(this,o)}function f(){s=null}function l(e,t){return u.settings.adjustOldDeltas&&e.type==="mousewheel"&&t%120===0}var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,i,s;if(e.event.fixHooks){for(var o=t.length;o;){e.event.fixHooks[t[--o]]=e.event.mouseHooks}}var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var t=n.length;t;){this.addEventListener(n[--t],a,false)}}else{this.onmousewheel=a}e.data(this,"mousewheel-line-height",u.getLineHeight(this));e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var t=n.length;t;){this.removeEventListener(n[--t],a,false)}}else{this.onmousewheel=null}e.removeData(this,"mousewheel-line-height");e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();if(!r.length){r=e("body")}return parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})},function(e,t){var n=typeof n==="function"&&!n.amd?n:false;e.exports={cookie:{set:function(e,t,n){var r=e+"="+escape(t)+";";if(n){n.path&&(r+="path="+n.path+";");n.domain&&(r+="domain="+n.domain+";");n.expires&&(r+="expires="+n.expires+";");if(n.hours){var i=new Date;var s=8;var o=i.getTime()+i.getTimezoneOffset()*6e4;var u=o+36e5*s;exp=new Date(u);exp.setTime(exp.getTime()+n.hours*60*60*1e3);r+="expires="+exp.toGMTString()+";"}}document.cookie=r;return r},get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));if(t!=null)return unescape(t[2]);return null},remove:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));exp=new Date;exp.setTime(exp.getTime()-1);document.cookie=e+"="+t[2]+";expires="+exp.toGMTString();return null}},dateFormat:function(e,t){var n;e=e||new Date;t=t||"yyyy-MM-dd hh:mm:ss";n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};if(/(y+)/.test(t))t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length));for(var r in n){if((new RegExp("("+r+")")).test(t))t=t.replace(RegExp.$1,RegExp.$1.length==1?n[r]:("00"+n[r]).substr((""+n[r]).length))}return t}}},function(e,t){function i(e){var t=[];for(var n in e){t.push(n+"="+encodeURIComponent(e[n]))}return t.join("&")}function s(e){(new Image).src="//bc.qunar.com"+e+"&"+r+"&t="+Math.random()}var n=typeof n==="function"&&!n.amd?n:false;var r={utmwv:"0.2",utmsr:screen.width+"*"+screen.height,utmasr:screen.availWidth+"*"+screen.availHeight,utmr:document.referrer||"-1",utmp:location.href,utmhn:location.host};r=i(r);e.exports=function(e){var t=function(e){t.send("clk",{a:e})};t.send=function(t,n){s("/"+t+"?s="+e+(n?"&"+i(n):""))};return t}},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["m-usertoolbar"]=new window.Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<div class="m-usertoolbar js-usertoolbar">\n    <div class="unfold" title="展开"></div>\n    <div class="fold-contain">\n        <div class="m-usertoolbar-btn js-usertoolbar-btn">\n            <div class="btn-group head">\n                <div class="btn-item fold" data-id="fold" title="关闭">\n                    <span class="icon"></span>\n                </div>\n            </div>\n            <div class="btn-group">\n                <div class="middle">\n                    <div class="btn-item user" title="用户">\n                        <span class="icon"></span>\n                        <a href="//user.qunar.com/passport/register.jsp?ret=" rel="nofollow" target="_blank" class="hover-tip register">\n                            <span class="icon"></span>\n                            加入会员，立即开始精彩旅程！\n                        </a>\n                    </div>\n                    <div class="separator"></div>\n                    <div class="btn-item messages">\n                        <span class="icon"></span><br/>\n                        <span class="dot"></span>\n                        消息\n                    </div>\n                    <div class="btn-item orders">\n                        <span class="icon"></span><br/>\n                        <span class="dot"></span>\n                        订单\n                    </div>\n                    <div class="btn-item account">\n                        <span class="icon"></span><br/>\n                        账户\n                    </div>\n                    <div class="separator"></div>\n                </div>\n            </div>\n            <div class="btn-group foot">\n                <!-- <a class="btn-item complaint" href="http://bbs.qunar.com/bbs/forum.php" target="_blank">\n                    <span class="icon"></span><br/>\n                    建议\n                </a> -->\n                <a class="btn-item qrcode" href="http://phone.qunar.com/?from=usertoolbar" rel="nofollow" target="_blank">\n                    <span class="icon"></span><br/>\n                    扫码\n                    <div class="hover-tip">\n                        <img src="//source.qunarzz.com/site/images/sidecode_v3.png" alt="扫描二维码"/>\n                    </div>\n                </a>\n                <a class="btn-item gotop" href="#" rel="nofollow">\n                    <span class="icon"></span><br/>\n                    置顶\n                </a>\n            </div>\n        </div>\n        <div class="m-usertoolbar-panel js-usertoolbar-panel">\n            <div class="panel-fold-btn" title="收起"></div>\n            <div class="panel-item login">\n                <div class="panel-row">\n                    <div class="panel-cell">\n                        <div class="login_icon login_close">关闭</div>\n                        <div id="q-pop-box-wrap">\n                            <div id="QunarPopBox"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="panel-item user" data-require-login="yes">\n                <div class="loading"></div>\n                <div class="error">\n                    <div class="msg"></div>\n                </div>\n            </div>\n            <div class="panel-item messages" data-full-height="yes" data-require-login="yes">\n                <div class="panel-row panel-head">\n                    <div class="panel-cell">\n                        <h3>\n                            <span class="icon"></span>我的消息\n                            <div class="loading"></div>\n                        </h3>\n                    </div>\n                </div>\n                <div class="panel-row error">\n                    <div class="panel-cell msg"></div>\n                </div>\n                <div class="panel-row error placeholder-row"></div>\n            </div>\n            <div class="panel-item orders" data-full-height="yes" data-require-login="yes">\n                <div class="panel-row panel-head">\n                    <div class="panel-cell">\n                        <h3>\n                            <span class="icon"></span>我的订单\n                            <div class="loading"></div>\n                        </h3>\n                    </div>\n                </div>\n                <div class="panel-row error">\n                    <div class="panel-cell msg"></div>\n                </div>\n                <div class="panel-row error placeholder-row"></div>\n            </div>\n            <div class="panel-item account" data-full-height="yes" data-require-login="yes">\n                <div class="panel-row panel-head">\n                    <div class="panel-cell">\n                        <h3>\n                            <span class="icon"></span>我的账户\n                            <div class="loading"></div>\n                        </h3>\n                    </div>\n                </div>\n                <div class="panel-row error">\n                    <div class="panel-cell msg"></div>\n                </div>\n                <div class="panel-row error placeholder-row"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:true});if(true)e.exports=window.QTMPL["m-usertoolbar"]},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["_panel-messages"]=new window.Handlebars.template({1:function(e,t,n,r,i){var s,o=t!=null?t:e.nullContext||{};return'<div class="panel-row tips">\n    <div class="tip"></div>\n</div>\n<div class="panel-row list-head">\n    <div class="panel-cell">\n        <div class="content">\n'+((s=n["if"].call(o,t!=null?t.unread:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.program(4,i,0),data:i}))!=null?s:"")+'        </div>\n    </div>\n</div>\n<div class="panel-row list-body">\n    <div class="panel-cell">\n        <div class="content scrollbars-box">\n'+((s=n["if"].call(o,t!=null?t.unread:t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))!=null?s:"")+'            <div class="separator">\n                <div class="separator-content">\n                    <div class="text">\n                    以下是已读信息\n                    </div>\n                    <i class="icon bg1"></i><i class="icon bg2"></i>\n                </div>\n            </div>\n            <ul class=\'read\'>\n'+((s=n["if"].call(o,t!=null?t.read:t,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(14,i,0),data:i}))!=null?s:"")+'            </ul>\n            <div class="list-foot-btns">\n                <a class="btn-view-all" href="http://user.qunar.com/message/list" target="_blank">查看全部</a>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="panel-row list-foot">\n    <div class="panel-cell"></div>\n</div>\n'},2:function(e,t,n,r,i){return'            <a href="javascript:" rel="nofollow" class="btn-markreaded">[本页标记为已读]</a>\n'},4:function(e,t,n,r,i){return"                &nbsp;\n"},6:function(e,t,n,r,i){var s;return"            <ul class='unread'>\n"+((s=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.unread:t,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")+"            </ul>\n"},7:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{},a=n.helperMissing,f="function",l=e.escapeExpression;return'                <li data-id="'+l((o=(o=n.messageId||(t!=null?t.messageId:t))!=null?o:a,typeof o===f?o.call(u,{name:"messageId",hash:{},data:i}):o))+'">\n                    <span class="icon"></span>'+l((o=(o=n.title||(t!=null?t.title:t))!=null?o:a,typeof o===f?o.call(u,{name:"title",hash:{},data:i}):o))+'\n                    <div class="date">'+l((o=(o=n.date||(t!=null?t.date:t))!=null?o:a,typeof o===f?o.call(u,{name:"date",hash:{},data:i}):o))+"</div>\n"+((s=n["if"].call(u,t!=null?t.operater:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))!=null?s:"")+"                </li>\n"},8:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression;return'                        <a href="'+u(o((s=t!=null?t.operater:t)!=null?s.url:s,t))+'" class="detail" target="_blank" title="'+u(o((s=t!=null?t.operater:t)!=null?s.title:s,t))+'">'+u(o((s=t!=null?t.operater:t)!=null?s.title:s,t))+"</a>\n"},10:function(e,t,n,r,i){var s;return(s=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.read:t,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))!=null?s:""},11:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{},a=n.helperMissing,f="function",l=e.escapeExpression;return'                    <li>\n                        <span class="icon"></span>'+l((o=(o=n.title||(t!=null?t.title:t))!=null?o:a,typeof o===f?o.call(u,{name:"title",hash:{},data:i}):o))+'\n                        <div class="date">'+l((o=(o=n.date||(t!=null?t.date:t))!=null?o:a,typeof o===f?o.call(u,{name:"date",hash:{},data:i}):o))+"</div>\n"+((s=n["if"].call(u,t!=null?t.operater:t,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))!=null?s:"")+"                    </li>\n"},12:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression;return'                            <a href="'+u(o((s=t!=null?t.operater:t)!=null?s.url:s,t))+'" class="detail" target="_blank" title="'+u(o((s=t!=null?t.operater:t)!=null?s.title:s,t))+'">'+u(o((s=t!=null?t.operater:t)!=null?s.title:s,t))+"</a>\n"},14:function(e,t,n,r,i){return'                <li class="empty">\n                    您暂无已读消息~~\n                </li>\n'},16:function(e,t,n,r,i){return'<div class="panel-row list-body">\n    <div class="panel-cell">\n        <div class="empty">\n            您还没有收到新消息哦~~\n        </div>\n    </div>\n</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.has:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(16,i,0),data:i}))!=null?s:""},useData:true});if(true)e.exports=window.QTMPL["_panel-messages"]},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["_panel-orders"]=new window.Handlebars.template({1:function(e,t,n,r,i){return" unbinds-tips-disabled"},3:function(e,t,n,r,i){var s;return'            <div class="unbinds-list">\n                <div class="unbinds-list-arrow"></div>\n                <div class="unbinds-list-arrow-overlay"></div>\n                <div class="unbinds-list-close"></div>\n                <span class="icon"></span>您有'+e.escapeExpression(e.lambda((s=t!=null?t.unbinds:t)!=null?s.count:s,t))+'个待绑定订单，<a href="http://order.qunar.com/?category=4" target="_blank" >请绑定</a>\n            </div>\n'},5:function(e,t,n,r,i){var s;return"            <ul>\n"+((s=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.data:t,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))!=null?s:"")+'            </ul>\n            <div class="list-foot-btns">\n                <a class="btn-view-all" href="http://order.qunar.com/" target="_blank">查看全部</a>\n            </div>\n'},6:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{},a=n.helperMissing,f="function",l=e.escapeExpression;return'                <li>\n                    <a href="'+((s=n["if"].call(u,(s=t!=null?t.action:t)!=null?s.url:s,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))!=null?s:"")+'"'+((s=n["if"].call(u,(s=t!=null?t.action:t)!=null?s.url:s,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))!=null?s:"")+' class="order-item type-'+l((o=(o=n.businessType||(t!=null?t.businessType:t))!=null?o:a,typeof o===f?o.call(u,{name:"businessType",hash:{},data:i}):o))+" ellipsis"+((s=n.unless.call(u,(s=t!=null?t.action:t)!=null?s.url:s,{name:"unless",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" data-order-no="'+l((o=(o=n.orderNo||(t!=null?t.orderNo:t))!=null?o:a,typeof o===f?o.call(u,{name:"orderNo",hash:{},data:i}):o))+'">\n'+((s=n["if"].call(u,t!=null?t.productTitle:t,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.program(22,i,0),data:i}))!=null?s:"")+'                        <div class="date">\n'+((s=n["if"].call(u,t!=null?t.strCreateTime:t,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(26,i,0),data:i}))!=null?s:"")+'                        </div>\n                        <div class="price">\n'+((s=n["if"].call(u,t!=null?t.strPrice:t,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.program(33,i,0),data:i}))!=null?s:"")+'                        </div>\n                        <span class="status-desc'+((s=n["if"].call(u,t!=null?t.statusDescBlue:t,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">'+l((o=(o=n.statusDesc||(t!=null?t.statusDesc:t))!=null?o:a,typeof o===f?o.call(u,{name:"statusDesc",hash:{},data:i}):o))+"</span>\n                    </a>\n                </li>\n"},7:function(e,t,n,r,i){var s;return e.escapeExpression(e.lambda((s=t!=null?t.action:t)!=null?s.url:s,t))},9:function(e,t,n,r,i){return"javascript:void 0"},11:function(e,t,n,r,i){return' rel="nofollow" target="_blank"'},13:function(e,t,n,r,i){return" disabled"},15:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{},a=n.helperMissing,f="function",l=e.escapeExpression;return'                            <div class="type-name">'+l((o=(o=n.typeName||(t!=null?t.typeName:t))!=null?o:a,typeof o===f?o.call(u,{name:"typeName",hash:{},data:i}):o))+'</div>\n                            <div class="title" title="'+((s=(o=(o=n.productTitle||(t!=null?t.productTitle:t))!=null?o:a,typeof o===f?o.call(u,{name:"productTitle",hash:{},data:i}):o))!=null?s:"")+'" style="margin-left: '+l((o=(o=n.titleMarginLeft||(t!=null?t.titleMarginLeft:t))!=null?o:a,typeof o===f?o.call(u,{name:"titleMarginLeft",hash:{},data:i}):o))+'em">\n'+((s=n["if"].call(u,t!=null?t.titleTip:t,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(u,t!=null?t.strSegmentses:t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.program(20,i,0),data:i}))!=null?s:"")+"                            </div>\n"},16:function(e,t,n,r,i){var s;return'                            <div class="title-tip">'+e.escapeExpression((s=(s=n.titleTip||(t!=null?t.titleTip:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"titleTip",hash:{},data:i}):s))+"</div>\n"},18:function(e,t,n,r,i){var s,o;return"                                "+((s=(o=(o=n.strSegmentses||(t!=null?t.strSegmentses:t))!=null?o:n.helperMissing,typeof o==="function"?o.call(t!=null?t:e.nullContext||{},{name:"strSegmentses",hash:{},data:i}):o))!=null?s:"")+"\n"},20:function(e,t,n,r,i){var s;return"                                "+e.escapeExpression((s=(s=n.productTitle||(t!=null?t.productTitle:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"productTitle",hash:{},data:i}):s))+"\n"},22:function(e,t,n,r,i){return'                            <div class="title">&nbsp;</div>\n'},24:function(e,t,n,r,i){var s;return"                                预订时间："+e.escapeExpression((s=(s=n.strCreateTime||(t!=null?t.strCreateTime:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"strCreateTime",hash:{},data:i}):s))+"\n"},26:function(e,t,n,r,i){var s,o=t!=null?t:e.nullContext||{},u=n.helperMissing,a="function",f=e.escapeExpression;return'                                <span class="icon"></span>\n                                '+f((s=(s=n.checkInDate||(t!=null?t.checkInDate:t))!=null?s:u,typeof s===a?s.call(o,{name:"checkInDate",hash:{},data:i}):s))+'\n                                <div class="date2">\n                                    <span class="icon"></span>\n                                    '+f((s=(s=n.checkOutDate||(t!=null?t.checkOutDate:t))!=null?s:u,typeof s===a?s.call(o,{name:"checkOutDate",hash:{},data:i}):s))+"\n                                </div>\n"},28:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{};return((s=n["if"].call(u,t!=null?t.currency:t,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.program(31,i,0),data:i}))!=null?s:"")+"                                <b>"+e.escapeExpression((o=(o=n.strPrice||(t!=null?t.strPrice:t))!=null?o:n.helperMissing,typeof o==="function"?o.call(u,{name:"strPrice",hash:{},data:i}):o))+"</b>\n"},29:function(e,t,n,r,i){var s;return'                                    <span class="currency">'+e.escapeExpression((s=(s=n.currency||(t!=null?t.currency:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"currency",hash:{},data:i}):s))+"</span>\n"},31:function(e,t,n,r,i){return'                                    <span class="rmb">¥</span>\n'},33:function(e,t,n,r,i){return"                                &nbsp;\n"},35:function(e,t,n,r,i){return" status-desc-blue"},37:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:e.nullContext||{},(s=t!=null?t.unbinds:t)!=null?s.data:s,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.program(40,i,0),data:i}))!=null?s:""},38:function(e,t,n,r,i){return""},40:function(e,t,n,r,i){return'                <div class="empty">\n                    您还未下过订单~~\n                </div>\n'},42:function(e,t,n,r,i){return'<div class="panel-row list-foot">\n    <div class="panel-cell"></div>\n</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:e.nullContext||{};return'<div class="panel-row list-body">\n    <div class="panel-cell">\n        <div class="unbinds-tips">\n            <span class="unbinds-tips-text'+((s=n.unless.call(o,(s=t!=null?t.unbinds:t)!=null?s.data:s,{name:"unless",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">待绑定订单<b>(<b>'+e.escapeExpression(e.lambda((s=t!=null?t.unbinds:t)!=null?s.count:s,t))+"</b>)</b></span>\n"+((s=n["if"].call(o,(s=t!=null?t.unbinds:t)!=null?s.data:s,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+'        </div>\n        <div class="content scrollbars-box">\n'+((s=n["if"].call(o,t!=null?t.data:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(37,i,0),data:i}))!=null?s:"")+"        </div>\n    </div>\n</div>\n"+((s=n["if"].call(o,t!=null?t.data:t,{name:"if",hash:{},fn:e.program(42,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"},useData:true});if(true)e.exports=window.QTMPL["_panel-orders"]},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["_panel-account"]=new window.Handlebars.template({1:function(e,t,n,r,i){var s;return"                <ul>\n"+((s=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.couponList:t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))!=null?s:"")+"                </ul>\n"},2:function(e,t,n,r,i){var s,o=t!=null?t:e.nullContext||{},u=n.helperMissing,a="function",f=e.escapeExpression;return'                    <li class="type-'+f((s=(s=n.initiator||(t!=null?t.initiator:t))!=null?s:u,typeof s===a?s.call(o,{name:"initiator",hash:{},data:i}):s))+'">\n                        <div class="icon logo"></div>\n                        <div class="price"><span class="rmb">¥</span><b>'+f((s=(s=n.canUseAmount||(t!=null?t.canUseAmount:t))!=null?s:u,typeof s===a?s.call(o,{name:"canUseAmount",hash:{},data:i}):s))+'</b></div>\n                        <div class="title">\n                           '+f((s=(s=n.couponName||(t!=null?t.couponName:t))!=null?s:u,typeof s===a?s.call(o,{name:"couponName",hash:{},data:i}):s))+'\n                        </div>\n                        <div class="date">'+f((s=(s=n.startTime||(t!=null?t.startTime:t))!=null?s:u,typeof s===a?s.call(o,{name:"startTime",hash:{},data:i}):s))+"至"+f((s=(s=n.endTime||(t!=null?t.endTime:t))!=null?s:u,typeof s===a?s.call(o,{name:"endTime",hash:{},data:i}):s))+'</div>\n                        <i class="icon bg1"></i>\n                        <i class="icon bg2"></i>\n                    </li>\n'},4:function(e,t,n,r,i){return'                <div class="empty">\n                    您暂无红包~~\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{};return'<div class="panel-row balance">\n    <div class="panel-cell">\n        <div class="content">\n            <h4>\n                我的余额\n            </h4>\n            <div class="value">\n                <span class="rmb">¥</span>'+((s=(o=(o=n.amountBalance||(t!=null?t.amountBalance:t))!=null?o:n.helperMissing,typeof o==="function"?o.call(u,{name:"amountBalance",hash:{},data:i}):o))!=null?s:"")+'\n            </div>\n        </div>\n    </div>\n</div>\n<div class="panel-row list-body">\n    <div class="panel-cell">\n        <div class="content scrollbars-box">\n            <div class="red-envelope">\n                <h4>\n                    <a href="//pay.qunar.com/member/asset/coupon/" class="detail" target="_blank">查看更多</a>\n                    我的红包\n                </h4>\n'+((s=n["if"].call(u,t!=null?t.couponList:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(4,i,0),data:i}))!=null?s:"")+'            </div>\n            <div class="trip-card">\n                <h4>\n                    <a href="//pay.qunar.com/member/asset/card/" class="detail" target="_blank">查看更多</a>\n                    我的礼品卡\n                </h4>\n                <a href="//pay.qunar.com/member/asset/card/" target="_blank" class="lipinka"></a>\n            </div>\n            <div class="list-foot-btns">\n                <a class="btn-view-all" href="//pay.qunar.com/member/" target="_blank">查看全部</a>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="panel-row list-foot">\n    <div class="panel-cell"></div>\n</div>\n'},useData:true});if(true)e.exports=window.QTMPL["_panel-account"]},function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["_panel-user"]=new window.Handlebars.template({1:function(e,t,n,r,i){return"修改"},3:function(e,t,n,r,i){return"绑定"},5:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n.mobile||(t!=null?t.mobile:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"mobile",hash:{},data:i}):s))},7:function(e,t,n,r,i){return"未设置"},9:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n.email||(t!=null?t.email:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"email",hash:{},data:i}):s))},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:e.nullContext||{},a=n.helperMissing,f="function",l=e.escapeExpression;return'<div class="username" title="'+l((o=(o=n.nickname||(t!=null?t.nickname:t))!=null?o:a,typeof o===f?o.call(u,{name:"nickname",hash:{},data:i}):o))+'">'+l((o=(o=n.nickname||(t!=null?t.nickname:t))!=null?o:a,typeof o===f?o.call(u,{name:"nickname",hash:{},data:i}):o))+'</div>\n<span class="avatar">\n    <img src="//qcommons.qunar.com/headshot/headshotsById/'+l((o=(o=n.uid||(t!=null?t.uid:t))!=null?o:a,typeof o===f?o.call(u,{name:"uid",hash:{},data:i}):o))+'.png?m&ssl=true" alt="'+l((o=(o=n.nickname||(t!=null?t.nickname:t))!=null?o:a,typeof o===f?o.call(u,{name:"nickname",hash:{},data:i}):o))+'">\n</span>\n<div class="phone">\n    <a href="http://user.qunar.com/userinfo/account.jsp#/modify/mobile-bind" class="action" target="_blank">'+((s=n["if"].call(u,t!=null?t.mobile:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+'</a>\n    <div class="text" title="'+((s=n["if"].call(u,t!=null?t.mobile:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))!=null?s:"")+'">\n        <span class="icon"></span>\n        手机&nbsp;<span class="value">'+((s=n["if"].call(u,t!=null?t.mobile:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))!=null?s:"")+'</span>\n    </div>\n</div>\n<div class="email">\n    <a href="http://user.qunar.com/userinfo/account.jsp#/modify/email" class="action" target="_blank">'+((s=n["if"].call(u,t!=null?t.email:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+'</a>\n    <div class="text" title="'+((s=n["if"].call(u,t!=null?t.email:t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(7,i,0),data:i}))!=null?s:"")+'">\n        <span class="icon"></span>\n        邮箱&nbsp;<span class="value">'+((s=n["if"].call(u,t!=null?t.email:t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(7,i,0),data:i}))!=null?s:"")+'</span>\n    </div>\n</div>\n<div class="other">\n    <a href="http://user.qunar.com/contact/listPage" target="_blank">常用旅客信息</a>&nbsp;&nbsp;\n    <a href="//pay.qunar.com/member/" target="_blank">我的账户</a>\n</div>\n'},useData:true});if(true)e.exports=window.QTMPL["_panel-user"]}])